# Αξιολόγηση αποτελεσμάτων E1, E2, E3

## Σύνοψη
Η αξιολόγηση καλύπτει τρία σενάρια εκτέλεσης πάνω στο ATM ontology: E1 (LLM-only, seed1), E2 (symbolic-only), E3 (no-repair). Οι κύριες μετρικές ακριβείας/ανάκλησης βασίζονται στις `metrics_exact.json` και `metrics_semantic.json` ανά run, ενώ η επάρκεια εννοιολογικής κάλυψης εξετάζεται μέσω των αποτελεσμάτων competency questions (CQs). Και οι τρεις εκτελέσεις είναι SHACL-conformant και reasoning-consistent, οπότε η διαφοροποίηση οφείλεται κυρίως στη διαδικασία πρόβλεψης τριπλετών και στις στρατηγικές μετα-επεξεργασίας.

## Αναμενόμενες τάσεις
- **E1 (LLM-only):** Αναμενόταν ισορροπία ακριβείας/ανάκλησης, με ελαφρώς αυξημένο θόρυβο από τη δημιουργική παραγωγή του μοντέλου. Πιθανή μείωση κάλυψης σε λεπτές ιδιότητες (π.χ. resilience, UI).
- **E2 (symbolic-only):** Συνήθως αναμένεται υψηλότερη ακρίβεια (λόγω αυστηρών κανόνων) αλλά μειωμένη ανάκληση, και καλύτερη πληρότητα σε βασικές ιεραρχίες. Η απουσία LLM repair μπορεί να αφήσει ασυνεπείς/πλεονασματικές τριπλέτες.
- **E3 (no-repair, με few-shot):** Προβλεπόμενη μεγαλύτερη παραγωγή τριπλετών (λόγω έλλειψης φιλτραρίσματος), συνεπώς μικρότερη ακρίβεια αλλά ανάκληση κοντά στο E2. Οι few-shot αναφορές θα έπρεπε να σταθεροποιούν την ορολογία, αλλά όχι να αφαιρούν πλεονάζουσες δηλώσεις.

## Παρατηρούμενα αποτελέσματα
- **Μετρικές τριπλετών**
  - E1: precision 0.4295, recall 0.536, F1 0.4769 με 156 προβλεπόμενες τριπλέτες και 67 επικαλύψεις σε 125 χρυσές. Αρκετά καλή ισορροπία αλλά με θόρυβο. 
  - E2: precision 0.2749, recall 0.552, F1 0.367 με 251 τριπλέτες· semantic precision 0.2388 (289 τριπλέτες) δείχνει ότι οι επιπλέον σημασιολογικές σχέσεις επιβάρυναν την ακρίβεια.
  - E3: precision 0.1575, recall 0.552, F1 0.2451 με 438 τριπλέτες, υποδηλώνοντας σημαντική υπερ-παραγωγή και θόρυβο.
- **Competency questions**
  - E1 πέτυχε 11/21 CQs (52%), κυρίως αποτυγχάνοντας σε UI, ανθεκτικότητα και back-end messaging.
  - E2 και E3 πέτυχαν 12/21 (57%), βελτιώνοντας ελαφρά το coverage σε σχέση με E1, αλλά όχι αρκετά για τα πιο σύνθετα λειτουργικά μοτίβα.
- **Ποιότητα μοντέλου και σημειώσεις**
  - Όλα τα runs είναι SHACL-conformant και Pel lets reasoning-consistent, συνεπώς οι διαφορές εστιάζουν στην επιλογή/φιλτράρισμα τριπλετών.
  - Το E1 λειτουργεί σε “draft_only” mode χωρίς reasoning/repair, γι’ αυτό περιορίζει τον όγκο τριπλετών αλλά αφήνει ακάλυπτες κάποιες οντολογικές λεπτομέρειες.
  - Το E2 δηλώνει 36 missing classes, υπονοώντας ότι ο συμβολικός παραγωγός εισήγαγε αναφορές χωρίς αντίστοιχους ορισμούς· αυτό εξηγεί την πτώση precision.
  - Το E3 αφαίρεσε 40 invalid restrictions και δήλωσε 25 missing classes, καταλήγοντας στην πιο «θορυβώδη» έξοδο.

## Ανάλυση ανά run
- **E1 (LLM-only)**: Παράγει το μικρότερο πλήθος τριπλετών και το υψηλότερο F1. Η απουσία explicit axioms για UI/ανθεκτικότητα οδηγεί σε αποτυχίες CQs που αφορούν `displays`, `hasBackUpPowerSupply`, `hasMainPowerSupply` και αμφίδρομη επικοινωνία. Η κάλυψη βασικών χρηματοοικονομικών οντοτήτων (Withdrawal/Deposit/Account) είναι επαρκής, αλλά λείπουν εξειδικευμένες ιδιότητες.
- **E2 (symbolic-only)**: Η ανάκληση παραμένει υψηλή (όπως αναμενόταν), όμως η ακρίβεια πέφτει περισσότερο απ’ όσο θα περίμενε κανείς για καθαρά συμβολική ροή. Η ύπαρξη περισσότερων προβλεπόμενων τριπλετών (251/289) δείχνει ότι τα κανόνες/πρότυπα γέννησαν πλεονάζουσες δηλώσεις χωρίς αντίστοιχη υποστήριξη, μειώνοντας την semantic precision. Η επιπλέον επιτυχία σε μία CQ έναντι του E1 υποδηλώνει ότι οι ιεραρχικές συνδέσεις (π.χ. Deposit ως Transaction) εξυπηρετούνται καλύτερα.
- **E3 (no-repair + few-shot)**: Παρά τη few-shot καθοδήγηση, το run παράγει υπερβολικές τριπλέτες (438), διατηρώντας την ανάκληση στο 0.552 αλλά υποβαθμίζοντας την ακρίβεια. Οι ίδιες 12 CQs με το E2 επιτυγχάνονται, άρα η πρόσθετη παραγωγή δεν μεταφράζεται σε ουσιαστική κάλυψη. Η απουσία repair αφήνει ακέραιες τις πλεονασματικές ή λανθασμένες δηλώσεις, αυξάνοντας τον θόρυβο.

## Συμπεράσματα και συστάσεις
1. **Επιλογή βασικού σεναρίου:** Το E1 είναι το πιο ισορροπημένο για παραγωγή «draft» οντολογίας με περιορισμένο θόρυβο. Για downstream χρήσεις που αντέχουν μικρότερη κάλυψη UI/ανθεκτικότητας, είναι προτιμητέο.
2. **Συμβολικός αγωγός (E2):** Χρειάζεται αυστηρότερη φιλτραριστική/normalization φάση (π.χ. έλεγχος missing classes, dedup των range δηλώσεων) ώστε να ανακτηθεί η ακρίβεια που αναμένεται από symbolic-only ροή.
3. **No-repair με few-shot (E3):** Η ενσωμάτωση repair ή κανόνων αφαίρεσης θα μείωνε τον θόρυβο χωρίς να θιγεί η ανάκληση. Διαφορετικά, η επαναχρησιμοποίηση του E2 με καλύτερο constraint-checking είναι προτιμητέα.
4. **Εστίαση σε αποτυχημένες CQs:** Ανεξάρτητα από το run, οι ίδιες 9 αποτυχίες (UI states, power supply, bidirectional links, updates, keypad) επιμένουν. Η στοχευμένη προσθήκη αυτών των αξιωμάτων θα ωφελήσει όλους τους αγωγούς χωρίς μεγάλη επιβάρυνση ακρίβειας.

Συνολικά, η συμπεριφορά των runs συνάδει με τις αρχικές προσδοκίες για το E1 (καλύτερη ισορροπία), αλλά το E2 και το E3 αποδίδουν χαμηλότερη ακρίβεια από την αναμενόμενη για συμβολικές ή few-shot εκτελέσεις, υποδεικνύοντας ανάγκη για επιπλέον φιλτράρισμα και εμπλουτισμό των κρίσιμων ανθεκτικών/λειτουργικών αξιωμάτων.
