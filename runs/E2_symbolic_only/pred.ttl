@prefix atm: <http://lod.csd.auth.gr/atm/atm.ttl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

atm:AmountExceedsTransactionPolicy a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:triggers ;
            owl:someValuesFrom atm:TransactionRestart ] .

atm:FR5_BankSendsProblemMessageToATM a owl:Class ;
    owl:equivalentClass [ a owl:Class ;
            owl:intersectionOf ( atm:CashCardValid atm:PasswordValid atm:AccountHasProblems [ a owl:Restriction ;
                        owl:onProperty atm:resultsIn ;
                        owl:someValuesFrom atm:MessageToATM ] ) ] .

atm:FR6_BankComputerSendsOkMessageToATM a owl:Class ;
    owl:equivalentClass [ a owl:Class ;
            owl:intersectionOf ( atm:CashCardValid atm:PasswordValid atm:AccountNoProblems [ a owl:Restriction ;
                        owl:onProperty atm:resultsIn ;
                        owl:someValuesFrom atm:OkMessageToATM ] [ a owl:Restriction ;
                        owl:onProperty atm:sentBy ;
                        owl:someValuesFrom atm:BankComputer ] ) ] .

atm:FR7_AfterRequestBankComputerProcessesTransaction a owl:Class ;
    owl:equivalentClass [ a owl:Class ;
            owl:intersectionOf ( atm:Request [ a owl:Restriction ;
                        owl:onProperty atm:followedBy ;
                        owl:someValuesFrom atm:TransactionProcessing ] [ a owl:Restriction ;
                        owl:onProperty atm:performedBy ;
                        owl:someValuesFrom atm:BankComputer ] ) ] .

atm:FR8_AccountUpdatedAfterMoneyDispensed a owl:Class ;
    owl:equivalentClass [ a owl:Class ;
            owl:intersectionOf ( atm:MoneyDispensed [ a owl:Restriction ;
                        owl:onProperty atm:followedBy ;
                        owl:someValuesFrom atm:AccountUpdated ] ) ] .

atm:FR9_BankHasPerAccountCashCardLimit a owl:Class ;
    owl:equivalentClass [ a owl:Class ;
            owl:intersectionOf ( atm:Bank [ a owl:Restriction ;
                        owl:onProperty atm:hasAccountLimit ;
                        owl:someValuesFrom atm:AccountLimit ] ) ] .

atm:FunctionalRequirement10 a atm:FunctionalRequirement,
        owl:NamedIndividual ;
    atm:hasText "If a card is entered more than three times at any ATM and the password is wrong each time, the ATM keeps the card and displays a message to call the bank."^^xsd:string,
        "The bank only provides security for their own computer and their own software."^^xsd:string ;
    atm:hasTitle "Functional requirement 10"^^xsd:string .

atm:FunctionalRequirement6 a atm:FunctionalRequirement,
        owl:NamedIndividual ;
    atm:hasText "The ATM should log the serial number retrieved from the cash card and then update the log file."^^xsd:string ;
    atm:hasTitle "Functional requirement 6"^^xsd:string .

atm:FunctionalRequirement7 a atm:FunctionalRequirement,
        owl:NamedIndividual ;
    atm:hasText "The ATM verifies the user's password and bank code with the bank computer."^^xsd:string ;
    atm:hasTitle "Functional requirement 7"^^xsd:string .

atm:FunctionalRequirement8 a atm:FunctionalRequirement,
        owl:NamedIndividual ;
    atm:hasText "Different negative answers from bank computer for authorization dialog."^^xsd:string ;
    atm:hasTitle "Functional requirement 8"^^xsd:string .

atm:FunctionalRequirement9 a atm:FunctionalRequirement,
        owl:NamedIndividual ;
    atm:hasText "If password and serial number are valid, the authorization process is finished."^^xsd:string ;
    atm:hasTitle "Functional requirement 9"^^xsd:string .

atm:PerformanceRequirement1 a atm:PerformanceRequirement ;
    atm:hasText "System shall set the error message for at least 30 seconds."^^xsd:string ;
    atm:hasTitle "Performance requirement 1"^^xsd:string .

atm:PerformanceRequirement2 a atm:PerformanceRequirement ;
    atm:hasText "If there is no response from the bank computer after a request within 2 minutes the card is rejected with an error message."^^xsd:string ;
    atm:hasTitle "Performance Requirement 2"^^xsd:string .

atm:PerformanceRequirement3 a atm:PerformanceRequirement ;
    atm:hasText "The ATM dispenses money if and only if the withdrawal from the account is processed and accepted by the bank."^^xsd:string ;
    atm:hasTitle "Performance Requirement 3"^^xsd:string .

atm:PerformanceRequirement4 a atm:PerformanceRequirement ;
    atm:hasText "Each bank may be processing transactions from several ATMs at the same time."^^xsd:string ;
    atm:hasTitle "Performance Requirement 4"^^xsd:string .

atm:SuccessfulAuthorization a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:triggers ;
            owl:someValuesFrom atm:MoneyDispensing ] .

atm:SuccessfulTransaction a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:triggers ;
            owl:someValuesFrom atm:MoneyDispensing ] .

atm:SuccessfulWithdrawalSequence a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:hasValue atm:Initiated ;
            owl:onProperty atm:resultsInTransactionState ] .

atm:MoneyDispensed a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:triggers ;
            owl:someValuesFrom atm:AmountLogged ] .

