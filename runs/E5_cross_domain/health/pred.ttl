@prefix atm: <http://example.org/health#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

atm:BillingRecord a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:billingFor ;
            owl:someValuesFrom atm:Visit ],
        [ a owl:Restriction ;
            owl:onProperty atm:billingAmount ;
            owl:someValuesFrom xsd:decimal ],
        [ a owl:Restriction ;
            owl:onProperty atm:payer ;
            owl:someValuesFrom xsd:string ],
        [ a owl:Restriction ;
            owl:onProperty atm:billingStatus ;
            owl:someValuesFrom xsd:string ] .

atm:Consent rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:consentBy ;
            owl:someValuesFrom atm:Patient ],
        [ a owl:Restriction ;
            owl:onProperty atm:consentTo ;
            owl:someValuesFrom atm:Clinician ],
        [ a owl:Restriction ;
            owl:onProperty atm:consentDate ;
            owl:someValuesFrom xsd:date ],
        [ a owl:Restriction ;
            owl:onProperty atm:consentScope ;
            owl:someValuesFrom xsd:string ] .

atm:Nurse a owl:Class ;
    rdfs:subClassOf atm:Clinician .

atm:Prescription rdfs:subClassOf [ a owl:Restriction ;
            owl:onClass atm:Medication ;
            owl:onProperty atm:prescriptionMedication ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:string ;
            owl:onProperty atm:dosageText ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:string ;
            owl:onProperty atm:frequencyText ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onClass atm:Doctor ;
            owl:onProperty atm:scheduledWith ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onClass atm:Patient ;
            owl:onProperty atm:prescribedTo ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:maxQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
            owl:onClass atm:Visit ;
            owl:onProperty atm:billingFor ] .

atm:VitalSignMeasurement a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onClass atm:Patient ;
            owl:onProperty atm:vitalMeasurementOf ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onProperty atm:measurementTime ;
            owl:someValuesFrom xsd:dateTime ],
        [ a owl:Restriction ;
            owl:onClass atm:Clinician ;
            owl:onProperty atm:measuredBy ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ] .

atm:policyEffectiveEnd a owl:DatatypeProperty ;
    rdfs:domain atm:InsurancePolicy ;
    rdfs:range xsd:date .

atm:Diagnosis a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:diagnosisCode ;
            owl:someValuesFrom xsd:string ] .

atm:Medication rdfs:subClassOf [ a owl:Restriction ;
            owl:onDataRange xsd:string ;
            owl:onProperty atm:medicationName ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:string ;
            owl:onProperty atm:medicationForm ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:string ;
            owl:onProperty atm:medicationStrength ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ] .

atm:auditActor a owl:ObjectProperty ;
    rdfs:domain atm:SchedulingAudit ;
    rdfs:range atm:Clinician .

atm:auditForAppointment a owl:ObjectProperty ;
    rdfs:domain atm:SchedulingAudit ;
    rdfs:range atm:Appointment .

atm:auditTimestamp a owl:DatatypeProperty ;
    rdfs:domain atm:SchedulingAudit ;
    rdfs:range xsd:dateTime .

atm:labPerformedBy a owl:ObjectProperty ;
    rdfs:domain atm:LabResult ;
    rdfs:range atm:Clinic .

atm:labResultOrder a owl:ObjectProperty ;
    rdfs:domain atm:LabResult ;
    rdfs:range atm:LabOrder .

atm:policyEffectiveStart a owl:DatatypeProperty ;
    rdfs:domain atm:InsurancePolicy ;
    rdfs:range xsd:date .

atm:procedureEnd a owl:DatatypeProperty ;
    rdfs:domain atm:Procedure ;
    rdfs:range xsd:dateTime .

atm:procedureStart a owl:DatatypeProperty ;
    rdfs:domain atm:Procedure ;
    rdfs:range xsd:dateTime .

atm:Appointment a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:appointmentReason ;
            owl:someValuesFrom xsd:string ],
        [ a owl:Restriction ;
            owl:allValuesFrom xsd:string ;
            owl:onProperty atm:appointmentReason ],
        [ a owl:Restriction ;
            owl:onClass atm:Doctor ;
            owl:onProperty atm:scheduledWith ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:dateTime ;
            owl:onProperty atm:scheduledStart ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onClass atm:Patient ;
            owl:onProperty atm:appointmentPatient ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onClass atm:Doctor ;
            owl:onProperty atm:scheduledWith ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onClass atm:Clinic ;
            owl:onProperty atm:scheduledAt ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:dateTime ;
            owl:onProperty atm:scheduledStart ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:integer ;
            owl:onProperty atm:durationMinutes ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ] .

atm:Visit a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onClass atm:Room ;
            owl:onProperty atm:visitRoom ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onClass atm:Clinician ;
            owl:onProperty atm:visitPerformedBy ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:allValuesFrom atm:Diagnosis ;
            owl:onProperty atm:hasDiagnosis ],
        [ a owl:Restriction ;
            owl:allValuesFrom atm:Procedure ;
            owl:onProperty atm:includesProcedure ],
        [ a owl:Restriction ;
            owl:allValuesFrom atm:LabOrder ;
            owl:onProperty atm:hasLabOrder ] .

atm:scheduledStart owl:inverseFunctionalProperty true .

atm:Doctor a owl:Class ;
    rdfs:subClassOf atm:Clinician .

atm:InsurancePolicy rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:policyEffectiveStart ;
            owl:someValuesFrom xsd:date ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:string ;
            owl:onProperty atm:payer ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:string ;
            owl:onProperty atm:policyNumber ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:string ;
            owl:onProperty atm:billingStatus ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ] .

atm:LabOrder a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
            owl:onClass atm:LabResult ;
            owl:onProperty atm:labHasResult ],
        [ a owl:Restriction ;
            owl:onClass atm:Patient ;
            owl:onProperty atm:labOrderPatient ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onClass atm:Clinician ;
            owl:onProperty atm:measuredBy ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ] .

atm:LabResult rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:labResultOrder ;
            owl:someValuesFrom atm:LabOrder ],
        [ a owl:Restriction ;
            owl:onProperty atm:labPerformedBy ;
            owl:someValuesFrom atm:Clinic ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:string ;
            owl:onProperty atm:resultValue ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onDataRange xsd:dateTime ;
            owl:onProperty atm:resultDate ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ] .

atm:Procedure a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:procedureStart ;
            owl:someValuesFrom xsd:dateTime ],
        [ a owl:Restriction ;
            owl:onProperty atm:procedureEnd ;
            owl:someValuesFrom xsd:dateTime ],
        [ a owl:Restriction ;
            owl:onProperty atm:procedureCode ;
            owl:someValuesFrom xsd:string ],
        [ a owl:Restriction ;
            owl:onProperty atm:procedureStatus ;
            owl:someValuesFrom xsd:string ] .

atm:SchedulingAudit a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:auditActor ;
            owl:someValuesFrom atm:Clinician ],
        [ a owl:Restriction ;
            owl:onProperty atm:auditTimestamp ;
            owl:someValuesFrom xsd:dateTime ],
        [ a owl:Restriction ;
            owl:onProperty atm:auditForAppointment ;
            owl:someValuesFrom atm:Appointment ] .

atm:scheduledWith owl:inverseFunctionalProperty true .

atm:Patient rdfs:subClassOf [ a owl:Restriction ;
            owl:allValuesFrom xsd:string ;
            owl:onProperty atm:contactEmail ],
        [ a owl:Restriction ;
            owl:allValuesFrom xsd:string ;
            owl:onProperty atm:contactPhone ],
        [ a owl:Restriction ;
            owl:allValuesFrom atm:InsurancePolicy ;
            owl:onProperty atm:hasInsurance ] .

atm:Clinician rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:licenseId ;
            owl:someValuesFrom xsd:string ],
        [ a owl:Restriction ;
            owl:allValuesFrom [ a rdfs:Datatype ;
                    owl:onDatatype xsd:string ;
                    owl:withRestrictions ( [ xsd:minLength "1"^^xsd:nonNegativeInteger ] ) ] ;
            owl:onProperty atm:licenseId ],
        [ a owl:Restriction ;
            owl:allValuesFrom xsd:string ;
            owl:onProperty atm:contactEmail ],
        [ a owl:Restriction ;
            owl:allValuesFrom xsd:string ;
            owl:onProperty atm:contactPhone ] .

