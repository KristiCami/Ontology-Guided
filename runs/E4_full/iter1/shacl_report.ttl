@prefix atm: <http://lod.csd.auth.gr/atm/atm.ttl#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

[] a sh:ValidationReport ;
    sh:conforms false ;
    sh:result [ a sh:ValidationResult ;
            sh:focusNode atm:Transaction ;
            sh:resultMessage "Every transaction must be linked to an Authorization." ;
            sh:resultPath atm:authorizedBy ;
            sh:resultSeverity sh:Violation ;
            sh:sourceConstraintComponent sh:MinCountConstraintComponent ;
            sh:sourceShape _:ne21c26861bd04ef9819a3c48e92b109bb7 ],
        [ a sh:ValidationResult ;
            sh:focusNode atm:CashCard ;
            sh:resultMessage "CashCard must have exactly one bankCode." ;
            sh:resultPath atm:bankCode ;
            sh:resultSeverity sh:Violation ;
            sh:sourceConstraintComponent sh:DatatypeConstraintComponent ;
            sh:sourceShape _:ne21c26861bd04ef9819a3c48e92b109bb10 ;
            sh:value atm:CashCard ],
        [ a sh:ValidationResult ;
            sh:focusNode atm:Transaction ;
            sh:resultMessage "Every transaction must have a timestamp (xsd:dateTime)." ;
            sh:resultPath atm:transactionTimestamp ;
            sh:resultSeverity sh:Violation ;
            sh:sourceConstraintComponent sh:MinCountConstraintComponent ;
            sh:sourceShape _:ne21c26861bd04ef9819a3c48e92b109bb8 ],
        [ a sh:ValidationResult ;
            sh:focusNode atm:Authorization ;
            sh:resultMessage "Every transaction must be linked to an Authorization." ;
            sh:resultPath atm:authorizedBy ;
            sh:resultSeverity sh:Violation ;
            sh:sourceConstraintComponent sh:ClassConstraintComponent ;
            sh:sourceShape _:ne21c26861bd04ef9819a3c48e92b109bb7 ;
            sh:value atm:Transaction ],
        [ a sh:ValidationResult ;
            sh:focusNode atm:Authorization ;
            sh:resultMessage "Every transaction must have a timestamp (xsd:dateTime)." ;
            sh:resultPath atm:transactionTimestamp ;
            sh:resultSeverity sh:Violation ;
            sh:sourceConstraintComponent sh:MinCountConstraintComponent ;
            sh:sourceShape _:ne21c26861bd04ef9819a3c48e92b109bb8 ],
        [ a sh:ValidationResult ;
            sh:focusNode atm:CashCard ;
            sh:resultMessage "CashCard must have exactly one bankCode." ;
            sh:resultPath atm:bankCode ;
            sh:resultSeverity sh:Violation ;
            sh:sourceConstraintComponent sh:MaxCountConstraintComponent ;
            sh:sourceShape _:ne21c26861bd04ef9819a3c48e92b109bb10 ],
        [ a sh:ValidationResult ;
            sh:focusNode atm:CashCard ;
            sh:resultMessage "CashCard must have exactly one serialNumber." ;
            sh:resultPath atm:serialNumber ;
            sh:resultSeverity sh:Violation ;
            sh:sourceConstraintComponent sh:DatatypeConstraintComponent ;
            sh:sourceShape _:ne21c26861bd04ef9819a3c48e92b109bb9 ;
            sh:value atm:CashCard ],
        [ a sh:ValidationResult ;
            sh:focusNode atm:CashCard ;
            sh:resultMessage "CashCard must have exactly one serialNumber." ;
            sh:resultPath atm:serialNumber ;
            sh:resultSeverity sh:Violation ;
            sh:sourceConstraintComponent sh:MaxCountConstraintComponent ;
            sh:sourceShape _:ne21c26861bd04ef9819a3c48e92b109bb9 ] .

_:ne21c26861bd04ef9819a3c48e92b109bb10 sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "CashCard must have exactly one bankCode." ;
    sh:minCount 1 ;
    sh:path atm:bankCode ;
    sh:severity sh:Violation .

_:ne21c26861bd04ef9819a3c48e92b109bb7 sh:class atm:Authorization ;
    sh:message "Every transaction must be linked to an Authorization." ;
    sh:minCount 1 ;
    sh:path atm:authorizedBy ;
    sh:severity sh:Violation .

_:ne21c26861bd04ef9819a3c48e92b109bb8 sh:datatype xsd:dateTime ;
    sh:message "Every transaction must have a timestamp (xsd:dateTime)." ;
    sh:minCount 1 ;
    sh:path atm:transactionTimestamp ;
    sh:severity sh:Violation .

_:ne21c26861bd04ef9819a3c48e92b109bb9 sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "CashCard must have exactly one serialNumber." ;
    sh:minCount 1 ;
    sh:path atm:serialNumber ;
    sh:severity sh:Violation .

