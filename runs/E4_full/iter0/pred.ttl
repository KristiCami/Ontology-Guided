@prefix atm: <http://lod.csd.auth.gr/atm/atm.ttl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

atm:Message a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:messageCode ;
            owl:someValuesFrom xsd:string ] .

atm:Withdrawal atm:dispensedAmount xsd:decimal .

atm:Authorization a atm:Authorization ;
    atm:authorizedBy atm:Transaction .

atm:BankComputer a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:issuesCard ;
            owl:someValuesFrom atm:CashCard ],
        [ a owl:Restriction ;
            owl:onProperty atm:sendsMessageTo ;
            owl:someValuesFrom atm:ATM ],
        [ a owl:Restriction ;
            owl:onProperty atm:operatedBy ;
            owl:someValuesFrom atm:ATM ],
        [ a owl:Restriction ;
            owl:onProperty atm:sendsMessageTo ;
            owl:someValuesFrom atm:ATM ] .

atm:ATM a atm:ATM ;
    atm:handlesTransaction atm:Transaction ;
    atm:issuesCard atm:Bank ;
    atm:operatedBy atm:Bank ;
    atm:receivesMessageFrom atm:BankComputer ;
    atm:sendsMessageTo atm:BankComputer ;
    atm:usesCard atm:Transaction .

atm:Transaction a atm:Transaction,
        owl:Class ;
    atm:onAccount atm:Account ;
    atm:requestedAmount xsd:decimal,
        "valid_requested_amount"^^xsd:decimal ;
    atm:transactionTimestamp xsd:dateTime ;
    atm:usesCard atm:CashCard ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:receivesMessageFrom ;
            owl:someValuesFrom atm:BankComputer ] .

atm:CashCard a atm:CashCard,
        owl:Class ;
    atm:bankCode atm:CashCard ;
    atm:serialNumber atm:CashCard,
        "retrieved_serial_number"^^xsd:string ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onProperty atm:serialNumber ;
            owl:someValuesFrom xsd:string ],
        [ a owl:Restriction ;
            owl:onProperty atm:bankCode ;
            owl:someValuesFrom xsd:string ] .

