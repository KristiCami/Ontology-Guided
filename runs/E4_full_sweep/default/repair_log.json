{
  "config": {
    "path": "configs/atm_e4_iterative.json",
    "iterations": 20,
    "requirements_chunk_size": 5,
    "use_ontology_context": true,
    "ontology_context_path": "gold/atm_schema_context.ttl",
    "gold_path": "/Users/ghost/master/Ontology-Guided/gold/atm_gold.ttl",
    "prompt_mode": "ontology_aware",
    "validation": true,
    "reasoning": true,
    "stop_policy": "default"
  },
  "iterations": {
    "iter0": {
      "shacl": {
        "total": 0,
        "violations": {
          "hard": 0,
          "soft": 0
        }
      },
      "cq": {
        "pass_rate": 0.5714285714285714,
        "failed": 9,
        "failed_queries": [
          "# ATMs explicitly dispense cash\nPREFIX atm: <http://lod.csd.auth.gr/atm/atm.ttl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nASK {\n  atm:dispenses rdfs:domain atm:ATM ;\n                rdfs:range atm:Money .\n}",
          "# ATM user interfaces capture both normal and error displays\nPREFIX atm: <http://lod.csd.auth.gr/atm/atm.ttl#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nASK {\n  atm:displays rdfs:domain atm:ATM ;\n               rdfs:range ?displayUnion .\n  ?displayUnion owl:unionOf ?list .\n  FILTER EXISTS { ?list rdf:rest*/rdf:first atm:NormalDisplay }\n  FILTER EXISTS { ?list rdf:rest*/rdf:first atm:ErrorDisplay }\n}",
          "# Resilience features include backup or main power supplies\nPREFIX atm: <http://lod.csd.auth.gr/atm/atm.ttl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nASK {\n  BIND(EXISTS {\n    atm:hasBackUpPowerSupply rdfs:domain atm:ATM ;\n                             rdfs:range atm:PowerSupply .\n  } AS ?backup)\n  BIND(EXISTS {\n    atm:hasMainPowerSupply rdfs:domain atm:ATM ;\n                           rdfs:range atm:PowerSupply .\n  } AS ?main)\n  FILTER (?backup || ?main)\n}",
          "# Operational timings are captured for security-critical checks\nPREFIX atm: <http://lod.csd.auth.gr/atm/atm.ttl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nASK {\n  BIND(EXISTS {\n    atm:hasCardVerificationTime rdfs:domain atm:ATM ;\n                                 rdfs:range atm:Time .\n  } AS ?cardVerification)\n  BIND(EXISTS {\n    atm:hasPinVerificationTime rdfs:domain atm:ATM ;\n                                rdfs:range atm:Time .\n  } AS ?pinVerification)\n  FILTER (?cardVerification && ?pinVerification)\n}",
          "# Bidirectional communication with the bank back-end is represented\nPREFIX atm: <http://lod.csd.auth.gr/atm/atm.ttl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nASK {\n  BIND(EXISTS {\n    atm:fromBankComputer rdfs:range atm:BankComputer .\n  } AS ?fromBankComputer)\n  BIND(EXISTS {\n    atm:toBankComputer rdfs:range atm:BankComputer .\n  } AS ?toBankComputer)\n  BIND(EXISTS {\n    atm:toATM rdfs:range atm:ATM .\n  } AS ?toAtm)\n  FILTER (?fromBankComputer && ?toBankComputer && ?toAtm)\n}",
          "# ATM and bank systems update transactional metrics\nPREFIX atm: <http://lod.csd.auth.gr/atm/atm.ttl#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nASK {\n  atm:updates rdfs:range ?rangeNode .\n  ?rangeNode owl:unionOf ?union .\n  FILTER EXISTS { ?union rdf:rest*/rdf:first atm:ATMtotalFundOfATM }\n  FILTER EXISTS { ?union rdf:rest*/rdf:first atm:AccountBalanceOFAccount }\n}",
          "# Requirements modelling captures subject, verb, condition and else branches\nPREFIX atm: <http://lod.csd.auth.gr/atm/atm.ttl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nASK {\n  BIND(EXISTS {\n    atm:subject rdfs:domain atm:BasicRequirement ;\n                rdfs:range atm:Subject .\n  } AS ?subject)\n  BIND(EXISTS {\n    atm:verb rdfs:domain atm:BasicRequirement ;\n             rdfs:range atm:Verb .\n  } AS ?verb)\n  BIND(EXISTS {\n    atm:condition rdfs:domain atm:ComplexRequirement ;\n                  rdfs:range atm:BasicRequirement .\n  } AS ?condition)\n  BIND(EXISTS {\n    atm:else rdfs:domain atm:ComplexRequirement ;\n             rdfs:range atm:BasicRequirement .\n  } AS ?else)\n  FILTER (?subject && ?verb && ?condition && ?else)\n}",
          "# Customers interacting with ATMs use both passwords and transaction amounts\nPREFIX atm: <http://lod.csd.auth.gr/atm/atm.ttl#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nASK {\n  atm:types rdfs:domain atm:Customer ;\n            rdfs:range ?rangeNode .\n  ?rangeNode owl:unionOf ?union .\n  FILTER EXISTS { ?union rdf:rest*/rdf:first atm:PasswordOfCustomer }\n  FILTER EXISTS { ?union rdf:rest*/rdf:first atm:TransactionAmountOfTransaction }\n}",
          "# ATM keypads are defined with explicit key components\nPREFIX atm: <http://lod.csd.auth.gr/atm/atm.ttl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nASK {\n  atm:consistOfKeys rdfs:domain atm:Keypad ;\n                    rdfs:range atm:Keys .\n}"
        ]
      },
      "patches": {
        "count": 0,
        "types": {}
      },
      "reasoning": {
        "enabled": true,
        "consistent": true,
        "unsat_classes": 0,
        "notes": "",
        "backend": "pellet",
        "triples_before_reasoning": 196,
        "triples_after_reasoning": 215
      },
      "stop_decision": "no_hard_violations"
    }
  },
  "stop": {
    "iteration": 0,
    "reason": "no_hard_violations"
  }
}