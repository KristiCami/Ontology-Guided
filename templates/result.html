<!doctype html>
<html>
<head>
  <title>Ontology Pipeline Result</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <h1>Ontology Pipeline Result</h1>
  <p><strong>Model:</strong> {{ model }}</p>
  <p><strong>Run Reasoner:</strong> {{ reason }}</p>
  <p><strong>Repair on Failure:</strong> {{ repair }}</p>
  <div class="section">
    <h2>Preprocessed Sentences</h2>
    <ul>
      {% for s in result.sentences %}
        <li>{{ s }}</li>
      {% endfor %}
    </ul>
  </div>
  <div class="section">
    <h2>LLM Generated OWL</h2>
    {% for snippet in result.owl_snippets %}
      <pre>{{ snippet }}</pre>
    {% endfor %}
  </div>
  <div class="section">
    <h2>Reasoner</h2>
    <p>{{ result.reasoner }}</p>
  </div>
  <div class="section">
    <h2>SHACL Validation</h2>
    <p>Conforms: {{ result.shacl_conforms }}</p>
    <pre>{{ result.shacl_report }}</pre>
  </div>
  <div class="section">
    <h2>Final Ontology</h2>
    <pre>{{ ontology }}</pre>
  </div>
  <p><a href="{{ url_for('index') }}">Run again</a></p>
</body>
</html>
