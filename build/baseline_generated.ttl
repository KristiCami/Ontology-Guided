@prefix atm: <http://example.org/atm#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

atm:ATM1 a atm:ATM ;
    atm:cardEnteredCount 4 ;
    atm:displaysMessage atm:callBankMessage ;
    atm:enteredMoreThanThreeTimes true ;
    atm:logs atm:LogFile1 ;
    atm:logsSerialNumber "123456789" ;
    atm:verifiesPassword atm:BankComputer1 .

atm:AccountLimitRule a owl:Class ;
    owl:equivalentClass [ a owl:Restriction ;
            owl:onProperty atm:hasAccountLimit ;
            owl:someValuesFrom atm:AccountLimit ] .

atm:AccountUpdateRule a owl:Class ;
    owl:equivalentClass [ a owl:Restriction ;
            owl:onProperty atm:updatesAccount ;
            owl:someValuesFrom atm:AccountUpdate ] .

atm:BankMessageRule a owl:Class ;
    owl:equivalentClass [ a owl:Restriction ;
            owl:onProperty atm:sendsMessageToATM ;
            owl:someValuesFrom atm:BankMessage ] .

atm:CashCard1 a atm:CashCard ;
    atm:serialNumber "123456789" .

atm:Request atm:hasResponse atm:Response ;
    atm:responseTime 120 ;
    atm:resultsIn atm:CardRejection .

atm:TransactionProcessingRule a owl:Class ;
    owl:equivalentClass [ a owl:Restriction ;
            owl:onProperty atm:processesTransaction ;
            owl:someValuesFrom atm:TransactionProcessing ] .

atm:User1 a atm:User ;
    atm:authorizationFinished true ;
    atm:bankCode "userBankCode" ;
    atm:password "userPassword" ;
    atm:validPassword true ;
    atm:validSerialNumber true .

atm:ValidTransaction a owl:Class ;
    owl:equivalentClass [ a owl:Restriction ;
            owl:onProperty atm:hasValidCashCard ;
            owl:someValuesFrom atm:ValidCashCard ],
        [ a owl:Restriction ;
            owl:onProperty atm:hasValidPassword ;
            owl:someValuesFrom atm:ValidPassword ],
        [ a owl:Restriction ;
            owl:complementOf atm:AccountProblem ;
            owl:onProperty atm:hasAccountProblem ] .

atm:authorizationFinished a owl:DatatypeProperty ;
    rdfs:domain atm:User ;
    rdfs:range xsd:boolean .

atm:authorizationStatus a owl:DatatypeProperty ;
    rdfs:domain atm:User ;
    rdfs:range xsd:string .

atm:bankCode a owl:DatatypeProperty ;
    rdfs:domain atm:User ;
    rdfs:range xsd:string .

atm:cardEnteredCount a owl:DatatypeProperty ;
    rdfs:domain atm:ATM ;
    rdfs:range xsd:integer .

atm:dispenses a owl:ObjectProperty ;
    rdfs:domain atm:MoneyDispensing ;
    rdfs:range atm:Transaction .

atm:displaysMessage a owl:ObjectProperty ;
    rdfs:domain atm:ATM ;
    rdfs:range xsd:string .

atm:enteredMoreThanThreeTimes a owl:DatatypeProperty ;
    rdfs:domain atm:ATM ;
    rdfs:range xsd:boolean .

atm:handles a owl:ObjectProperty ;
    rdfs:domain atm:Transaction ;
    rdfs:range atm:TransactionPolicy .

atm:hasNegativeResponse a owl:ObjectProperty ;
    rdfs:domain atm:BankComputer ;
    rdfs:range xsd:string .

atm:initiated a owl:ObjectProperty ;
    rdfs:domain atm:Transaction ;
    rdfs:range atm:Authorization .

atm:keepsCard a owl:ObjectProperty ;
    rdfs:domain atm:ATM ;
    rdfs:range atm:CashCard .

atm:logs a owl:ObjectProperty ;
    rdfs:domain atm:ATM,
        atm:MoneyDispensing ;
    rdfs:range atm:LogFile,
        atm:Transaction .

atm:logsSerialNumber a owl:ObjectProperty ;
    rdfs:domain atm:ATM ;
    rdfs:range xsd:string .

atm:password a owl:DatatypeProperty ;
    rdfs:domain atm:User ;
    rdfs:range xsd:string .

atm:serialNumber a owl:ObjectProperty ;
    rdfs:domain atm:CashCard ;
    rdfs:range xsd:string .

atm:succeeds a owl:ObjectProperty ;
    rdfs:domain atm:Transaction ;
    rdfs:range atm:MoneyDispensing .

atm:triggers a owl:ObjectProperty ;
    rdfs:domain atm:Authorization ;
    rdfs:range atm:MoneyDispensing .

atm:validPassword a owl:DatatypeProperty ;
    rdfs:domain atm:User ;
    rdfs:range xsd:boolean .

atm:validSerialNumber a owl:DatatypeProperty ;
    rdfs:domain atm:CashCard ;
    rdfs:range xsd:boolean .

atm:verifiesPassword a owl:ObjectProperty ;
    rdfs:domain atm:ATM ;
    rdfs:range atm:BankComputer .

atm:BankCode atm:isValidFor atm:CashCard .

atm:BankComputer1 a atm:BankComputer ;
    atm:hasNegativeResponse "Authorization Failed" .

atm:LogFile a owl:Class .

atm:System atm:hasDuration 30 ;
    atm:setsErrorMessage atm:ErrorMessage .

atm:TransactionPolicy a owl:Class .

atm:callBankMessage a xsd:string .

atm:hasAccountLimit a owl:ObjectProperty ;
    rdfs:domain atm:Bank ;
    rdfs:range atm:AccountLimit .

atm:hasAccountProblem a owl:ObjectProperty ;
    rdfs:domain atm:TransactionRequest ;
    rdfs:range atm:AccountProblem .

atm:hasValidCashCard a owl:ObjectProperty ;
    rdfs:domain atm:TransactionRequest ;
    rdfs:range atm:ValidCashCard .

atm:hasValidPassword a owl:ObjectProperty ;
    rdfs:domain atm:TransactionRequest ;
    rdfs:range atm:ValidPassword .

atm:processesTransaction a owl:ObjectProperty ;
    rdfs:domain atm:Bank ;
    rdfs:range atm:TransactionProcessing .

atm:sendsMessageToATM a owl:ObjectProperty ;
    rdfs:domain atm:Bank ;
    rdfs:range atm:BankMessage .

atm:updatesAccount a owl:ObjectProperty ;
    rdfs:domain atm:TransactionProcessing ;
    rdfs:range atm:AccountUpdate .

atm:AccountLimit a owl:Class .

atm:AccountProblem a owl:Class .

atm:AccountUpdate a owl:Class .

atm:Authorization a owl:Class .

atm:BankMessage a owl:Class .

atm:ValidCashCard a owl:Class .

atm:ValidPassword a owl:Class .

atm:BankComputer a owl:Class ;
    atm:checksValidityOf atm:BankCode ;
    atm:checksValidityOfPassword atm:Password ;
    atm:sendsMessageTo atm:ATM .

atm:TransactionProcessing a owl:Class .

atm:TransactionRequest a owl:Class .

atm:Bank a owl:Class ;
    atm:processesTransaction atm:ATM ;
    atm:providesSecurity atm:Computer,
        atm:Software .

atm:MoneyDispensing a owl:Class .

atm:CashCard a owl:Class ;
    atm:hasPassword atm:Password .

atm:Transaction a owl:Class ;
    atm:displaysMessage atm:ErrorMessage ;
    atm:ejectsCard atm:Card ;
    atm:hasStatus atm:NotSuccessful .

atm:User a owl:Class .

atm:ATM a atm:System,
        owl:Class ;
    atm:checksCardValidity atm:enteredCard ;
    atm:dispensesMoney atm:Withdrawal ;
    atm:displaysErrorMessage atm:errorMessage ;
    atm:displaysInitialDisplay atm:noCashCard ;
    atm:doesNotAcceptCard atm:runningOutOfMoney ;
    atm:hasParameter atm:k,
        atm:m,
        atm:n ;
    atm:ifAndOnlyIf ( atm:Withdrawal atm:isProcessedBy atm:Bank ) ;
    atm:initializedWith atm:t ;
    atm:readsSerialNumberAndBankCode atm:validCashCard ;
    atm:returnsCard atm:enteredCard .

